---
# inventory/hosts.yml
# 호스트 목록 정의

all:
  vars:
    # 공통 변수
    ansible_python_interpreter: /usr/bin/python3
    report_dir: /app/project1/reports
    
    # 서비스 목록 (헬스체크 대상)
    monitored_services:
      - name: nginx
        port: 80
        display_name: "Nginx"
      - name: prometheus
        port: 9090
        display_name: "Prometheus"
      - name: grafana-server
        port: 3000
        display_name: "Grafana"
      - name: node_exporter
        port: 9100
        display_name: "Node Exporter"
      - name: mariadb
        port: 3306
        display_name: "MariaDB"
    
    # 백업 대상 설정 파일
    backup_configs:
      - src: /etc/nginx/conf.d/
        name: nginx_conf
      - src: /etc/prometheus/prometheus.yml
        name: prometheus.yml
      - src: /etc/grafana/grafana.ini
        name: grafana.ini

  hosts:
    localhost:
      ansible_connection: local

# ============================================
# 확장 예시 (멀티 서버 환경)
# ============================================
# all:
#   children:
#     webservers:
#       hosts:
#         web01:
#           ansible_host: 192.168.1.10
#         web02:
#           ansible_host: 192.168.1.11
#     
#     dbservers:
#       hosts:
#         db01:
#           ansible_host: 192.168.1.20
#     
#     monitoring:
#       hosts:
#         mon01:
#           ansible_host: 192.168.1.30
